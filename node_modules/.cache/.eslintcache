[{"/Users/jee/Desktop/j_project/simpleDiary/src/index.js":"1","/Users/jee/Desktop/j_project/simpleDiary/src/App.js":"2","/Users/jee/Desktop/j_project/simpleDiary/src/DiaryList.js":"3","/Users/jee/Desktop/j_project/simpleDiary/src/DiaryEditor.js":"4","/Users/jee/Desktop/j_project/simpleDiary/src/DiaryItem.js":"5"},{"size":223,"mtime":1675464280177,"results":"6","hashOfConfig":"7"},{"size":2875,"mtime":1676696480176,"results":"8","hashOfConfig":"7"},{"size":427,"mtime":1676696446758,"results":"9","hashOfConfig":"7"},{"size":2244,"mtime":1676697157074,"results":"10","hashOfConfig":"7"},{"size":2329,"mtime":1676697114969,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"15"},"1eo0njf",{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jee/Desktop/j_project/simpleDiary/src/index.js",[],[],[],"/Users/jee/Desktop/j_project/simpleDiary/src/App.js",["30"],[],"import React, { useCallback, useEffect, useRef, useReducer, useMemo } from \"react\";\nimport './App.css';\nimport DiaryEditor from './DiaryEditor';\nimport DiaryList from './DiaryList';\n\nconst reducer = (state, action) => {\n  switch(action.type){\n    case \"INIT\": {\n      return action.data;\n    }\n    case \"CREATE\": {\n      const created_date = new Date().getTime();\n      const newItem = {\n        ...action.data,\n        created_date\n      }\n      return [newItem, ...state];\n    }\n    case \"REMOVE\": {\n      return state.filter((it)=>it.id !== action.targetId);\n    }\n    case \"EDIT\": {\n      return state.map((it)=>it.id === action.targetId ? \n      {...it, content:action.newContent} : it);\n    }\n    default: \n    return state;\n  }\n};\n\nexport const DiaryStateContext = React.createContext();\n\nfunction App() {\n\n  const [data, dispatch] = useReducer(reducer, []);\n  const dataId = useRef(0);\n  const getData = async()=> {\n    const res = await fetch('https://jsonplaceholder.typicode.com/comments').then((res)=>res.json());\n    \n    const initData = res.slice(0,5).map((it)=>{\n      return{\n        author : it.email,\n        content : it.body,\n        emotion : Math.floor(Math.random()*5)+1, \n        created_date : new Date().getTime(),\n        id : dataId.current++\n      }\n    });\n    dispatch({type:\"INIT\", data:initData})\n  };\n\n  useEffect(()=>{\n    getData();\n  },[]);\n\n  const onCreate = useCallback((author, content, emotion) => {\n    dispatch({type: \"CREATE\", data:{author, content, emotion, id : dataId.current}})\n    dataId.current += 1;\n  }, []);\n\n  const onDelete = useCallback((targetId) => {\n    dispatch({type: \"REMOVE\", targetId})\n  }, []);\n\n  const onEdit = useCallback((targetId, newContent) => {\n    dispatch({type: \"EDIT\", targetId, newContent})\n  }, []);\n\n  const getDiaryAnalysis = useMemo(() => {\n    const goodCount = data.filter((it)=>it.emotion >= 3 ).length;\n    const badCount = data.length - goodCount;\n    const goodRatio = (goodCount / data.length) * 100;\n    return {goodCount, badCount, goodRatio};\n  }, [data.length]);\n\n  const {goodCount, badCount, goodRatio} = getDiaryAnalysis;\n\n  return (\n    <div className=\"App\">\n      <DiaryEditor onCreate={onCreate}/>\n      <h2 className=\"font-bold text-xl mt-12 mb-4\">Diary List</h2>\n      <div className=\"bg-sky-100 mt-4 mb-6 p-6 text-center text-black/80\">\n        <div>Total <div className=\"inline text-sky-500 font-bold\">{data.length} days</div> diary</div>\n        <div>Good Mood day : <div className=\"inline text-sky-500 font-bold\">{goodCount} days</div></div>\n        <div>Bad Mood day : <div className=\"inline text-sky-500 font-bold\">{badCount} days</div></div>\n        <div>Good day (%) : <div className=\"inline text-sky-500 font-bold\">{goodRatio}%</div></div>\n      </div>\n      <DiaryList onEdit={onEdit} onDelete={onDelete} diaryList={data}/>\n    </div>\n  );\n}\n\nexport default App;","/Users/jee/Desktop/j_project/simpleDiary/src/DiaryList.js",[],[],"/Users/jee/Desktop/j_project/simpleDiary/src/DiaryEditor.js",["31"],[],"import React, { useEffect, useRef, useState } from \"react\";  \n\n\nconst DiaryEditor = ({onCreate}) => {\n\n  const authorInput = useRef(); \n  const contentInput = useRef();  \n  \n  const [state, setState] = useState({\n    author: \"\",\n    content: \"\",\n    emotion: 1,\n  });\n\n  const handleChangeState = (e) => {\n    setState({\n      ...state,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = () => {     \n    if(state.author.length < 1) {\n      authorInput.current.focus();   \n      return;\n    }\n\n    if(state.content.length < 5){\n      contentInput.current.focus();\n      return;\n    }\n    onCreate(state.author, state.content, state.emotion);\n    setState({\n      author: \"\",\n      content: \"\",\n      emotion: 1,\n    });\n    alert(\"Saved successfully!\");\n  }\n\n  return (\n    <div className=\"DiaryEditor bg-sky-100 p-8 text-center rounded-xl\">\n      <h2 className=\"font-bold text-xl mb-4\">Today Diary</h2>\n      <div>\n        <input \n        ref={authorInput}   \n        name=\"author\"\n        value={state.author} \n        placeholder=\"Title\"\n        onChange={handleChangeState}\n        className=\"border border-sky-200 mb-5 p-3 w-full max-w-xl rounded-lg\"\n        />\n      </div>\n      <div>\n        <textarea \n        ref={contentInput}  \n        name=\"content\"\n        value={state.content} \n        onChange={handleChangeState}\n        placeholder=\"Content\"\n        className=\"border border-sky-200 mb-5 p-3 w-full max-w-xl h-36 rounded-lg\"\n        />\n      </div>\n      <div>\n        <h3 className=\"mb-2 text-sky-500\">Today was...</h3>\n        <select\n          name=\"emotion\"\n          value={state.emotion} \n          onChange={handleChangeState}\n          className=\"mb-5 p-2 rounded-lg w-full max-w-xl\"\n        >\n          <option value={1}>So happy</option>\n          <option value={2}>Happy</option>\n          <option value={3}>So So</option>\n          <option value={4}>Bad</option>\n          <option value={5}>So Bad</option>\n        </select>\n      </div>\n      <div>\n        <button \n          onClick={handleSubmit}\n          className=\"bg-sky-500 w-20 p-2 cursor-pointer rounded-full text-white font-bold\"\n          >Save</button>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(DiaryEditor);","/Users/jee/Desktop/j_project/simpleDiary/src/DiaryItem.js",[],[],{"ruleId":"32","severity":1,"message":"33","line":74,"column":6,"nodeType":"34","endLine":74,"endColumn":19,"suggestions":"35"},{"ruleId":"36","severity":1,"message":"37","line":1,"column":17,"nodeType":"38","messageId":"39","endLine":1,"endColumn":26},"react-hooks/exhaustive-deps","React Hook useMemo has a missing dependency: 'data'. Either include it or remove the dependency array.","ArrayExpression",["40"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar",{"desc":"41","fix":"42"},"Update the dependencies array to be: [data]",{"range":"43","text":"44"},[2042,2055],"[data]"]