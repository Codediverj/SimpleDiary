{"ast":null,"code":"import _slicedToArray from\"/Users/jee/Desktop/j_project/simpleDiary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DiaryItem=function DiaryItem(_ref){var onEdit=_ref.onEdit,onDelete=_ref.onDelete,id=_ref.id,author=_ref.author,content=_ref.content,emotion=_ref.emotion,created_date=_ref.created_date;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEdit=_useState2[0],setIsEdit=_useState2[1];var toggleIsEdit=function toggleIsEdit(){return setIsEdit(!isEdit);};var _useState3=useState(content),_useState4=_slicedToArray(_useState3,2),localContent=_useState4[0],setLocalContent=_useState4[1];var localContentInput=useRef();var handleRemove=function handleRemove(){if(window.confirm(\"\".concat(id,\"\\uBC88\\uC9F8 \\uC77C\\uAE30\\uB97C \\uC815\\uB9D0 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"))){onDelete(id);}};var handleQuitEdit=function handleQuitEdit(){setIsEdit(false);setLocalContent(content);};var handleEdit=function handleEdit(){if(localContent.length<5){localContentInput.current.focus();return;}if(window.confirm(\"\".concat(id,\"\\uBC88 \\uC9F8 \\uC77C\\uAE30\\uB97C \\uC218\\uC815\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"))){onEdit(id,localContent);toggleIsEdit();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryItem\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"author_info\",children:[\"author: \",author,\" / emotion : \",emotion]}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:new Date(created_date).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:isEdit?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"textarea\",{ref:localContentInput,value:localContent,onChange:function onChange(e){return setLocalContent(e.target.value);}})}):/*#__PURE__*/_jsx(_Fragment,{children:content})}),isEdit?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleQuitEdit,children:\"Cancel Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,children:\"Save\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRemove,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleIsEdit,children:\"Edit\"})]})]});};export default/*#__PURE__*/React.memo(DiaryItem);","map":{"version":3,"names":["React","useRef","useState","DiaryItem","onEdit","onDelete","id","author","content","emotion","created_date","isEdit","setIsEdit","toggleIsEdit","localContent","setLocalContent","localContentInput","handleRemove","window","confirm","handleQuitEdit","handleEdit","length","current","focus","Date","toLocaleString","e","target","value","memo"],"sources":["/Users/jee/Desktop/j_project/simpleDiary/src/DiaryItem.js"],"sourcesContent":["import React, {useRef, useState} from \"react\";\n\nconst DiaryItem = ({\n    onEdit,\n    onDelete,\n    id,\n    author, \n    content, \n    emotion, \n    created_date, \n}) => {\n\n    const [isEdit, setIsEdit] = useState(false);\n    const toggleIsEdit = () => setIsEdit(!isEdit);\n\n    const [localContent, setLocalContent] = useState(content);\n    const localContentInput = useRef();\n\n    const handleRemove = () => {\n        if(window.confirm(`${id}번째 일기를 정말 삭제하시겠습니까?`)){\n            onDelete(id);\n        }\n    };\n\n    const handleQuitEdit = () => {\n        setIsEdit(false);\n        setLocalContent(content);\n    }\n\n    const handleEdit = () => {\n        if(localContent.length < 5){\n            localContentInput.current.focus();\n            return;\n        }\n        if(window.confirm(`${id}번 째 일기를 수정하시겠습니까?`)){\n            onEdit(id, localContent);\n            toggleIsEdit(); \n        }\n    }\n\n    return (\n      <div className=\"DiaryItem\">\n        <div className=\"info\">\n            <span className=\"author_info\">\n                author: {author} / emotion : {emotion}\n            </span>\n            <span className=\"date\">\n                {new Date(created_date).toLocaleString()}\n            </span>\n        </div>\n        <div className=\"content\">\n            {isEdit ? (\n                <>\n                    <textarea \n                    ref={localContentInput}\n                    value={localContent}\n                    onChange={(e)=>setLocalContent(e.target.value)}/>\n                </>\n            ) : (\n                <>{content}</>\n            )}\n        </div>\n        {isEdit ? (\n        <>\n            <button onClick={handleQuitEdit}>Cancel Edit</button>\n            <button onClick={handleEdit}>Save</button>\n        </>\n        ) : (\n        <>\n            <button onClick={handleRemove}>Delete</button>\n            <button onClick={toggleIsEdit}>Edit</button>\n        </>\n        )}\n      </div>\n    );\n  };\n  export default React.memo(DiaryItem);"],"mappings":"8HAAA,MAAOA,MAAK,EAAGC,MAAM,CAAEC,QAAQ,KAAO,OAAO,CAAC,6IAE9C,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAQT,IAPFC,OAAM,MAANA,MAAM,CACNC,QAAQ,MAARA,QAAQ,CACRC,EAAE,MAAFA,EAAE,CACFC,MAAM,MAANA,MAAM,CACNC,OAAO,MAAPA,OAAO,CACPC,OAAO,MAAPA,OAAO,CACPC,YAAY,MAAZA,YAAY,CAGZ,cAA4BR,QAAQ,CAAC,KAAK,CAAC,wCAApCS,MAAM,eAAEC,SAAS,eACxB,GAAMC,aAAY,CAAG,QAAfA,aAAY,SAASD,UAAS,CAAC,CAACD,MAAM,CAAC,GAE7C,eAAwCT,QAAQ,CAACM,OAAO,CAAC,yCAAlDM,YAAY,eAAEC,eAAe,eACpC,GAAMC,kBAAiB,CAAGf,MAAM,EAAE,CAElC,GAAMgB,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,GAAGC,MAAM,CAACC,OAAO,WAAIb,EAAE,mGAAsB,CAAC,CAC1CD,QAAQ,CAACC,EAAE,CAAC,CAChB,CACJ,CAAC,CAED,GAAMc,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzBR,SAAS,CAAC,KAAK,CAAC,CAChBG,eAAe,CAACP,OAAO,CAAC,CAC5B,CAAC,CAED,GAAMa,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB,GAAGP,YAAY,CAACQ,MAAM,CAAG,CAAC,CAAC,CACvBN,iBAAiB,CAACO,OAAO,CAACC,KAAK,EAAE,CACjC,OACJ,CACA,GAAGN,MAAM,CAACC,OAAO,WAAIb,EAAE,uFAAoB,CAAC,CACxCF,MAAM,CAACE,EAAE,CAAEQ,YAAY,CAAC,CACxBD,YAAY,EAAE,CAClB,CACJ,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,aAAK,SAAS,CAAC,MAAM,wBACjB,cAAM,SAAS,CAAC,aAAa,WAAC,UAClB,CAACN,MAAM,CAAC,eAAa,CAACE,OAAO,GAClC,cACP,aAAM,SAAS,CAAC,MAAM,UACjB,GAAIgB,KAAI,CAACf,YAAY,CAAC,CAACgB,cAAc,EAAE,EACrC,GACL,cACN,YAAK,SAAS,CAAC,SAAS,UACnBf,MAAM,cACH,sCACI,iBACA,GAAG,CAAEK,iBAAkB,CACvB,KAAK,CAAEF,YAAa,CACpB,QAAQ,CAAE,kBAACa,CAAC,QAAGZ,gBAAe,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,EAClD,cAEH,yBAAGrB,OAAO,EACb,EACC,CACLG,MAAM,cACP,wCACI,eAAQ,OAAO,CAAES,cAAe,UAAC,aAAW,EAAS,cACrD,eAAQ,OAAO,CAAEC,UAAW,UAAC,MAAI,EAAS,GAC3C,cAEH,wCACI,eAAQ,OAAO,CAAEJ,YAAa,UAAC,QAAM,EAAS,cAC9C,eAAQ,OAAO,CAAEJ,YAAa,UAAC,MAAI,EAAS,GAE/C,GACG,CAEV,CAAC,CACD,2BAAeb,KAAK,CAAC8B,IAAI,CAAC3B,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}