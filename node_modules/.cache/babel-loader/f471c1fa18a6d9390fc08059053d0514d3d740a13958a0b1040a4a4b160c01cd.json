{"ast":null,"code":"import _slicedToArray from\"/Users/jee/Desktop/j_project/simpleDiary/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DiaryItem=function DiaryItem(_ref){var onEdit=_ref.onEdit,onDelete=_ref.onDelete,id=_ref.id,author=_ref.author,content=_ref.content,emotion=_ref.emotion,created_date=_ref.created_date;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEdit=_useState2[0],setIsEdit=_useState2[1];var toggleIsEdit=function toggleIsEdit(){return setIsEdit(!isEdit);};var _useState3=useState(content),_useState4=_slicedToArray(_useState3,2),localContent=_useState4[0],setLocalContent=_useState4[1];var localContentInput=useRef();var handleRemove=function handleRemove(){if(window.confirm(\"Do you really want to delete diary \".concat(id,\"?\"))){onDelete(id);}};var handleQuitEdit=function handleQuitEdit(){setIsEdit(false);setLocalContent(content);};var handleEdit=function handleEdit(){if(localContent.length<5){localContentInput.current.focus();return;}if(window.confirm(\"Do you want to edit diary \".concat(id,\"?\"))){onEdit(id,localContent);toggleIsEdit();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryItem border border-sky-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"author_info\",children:[\"Author: \",author,\" / Emotion : \",emotion]}),/*#__PURE__*/_jsx(\"span\",{className:\"date block\",children:new Date(created_date).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content pt-4 pb-8\",children:isEdit?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"textarea\",{ref:localContentInput,value:localContent,onChange:function onChange(e){return setLocalContent(e.target.value);},className:\"w-full h-30\"})}):/*#__PURE__*/_jsx(_Fragment,{children:content})}),isEdit?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleQuitEdit,className:\"bg-gray-400 py-1 px-4 rounded text-white mr-2\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"bg-sky-400 py-1 px-4 rounded text-white\",children:\"Save\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRemove,className:\"bg-red-400 py-1 px-4 rounded text-white mr-2\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleIsEdit,className:\"bg-sky-400 py-1 px-4 rounded text-white\",children:\"Edit\"})]})]});};export default/*#__PURE__*/React.memo(DiaryItem);","map":{"version":3,"names":["React","useRef","useState","DiaryItem","onEdit","onDelete","id","author","content","emotion","created_date","isEdit","setIsEdit","toggleIsEdit","localContent","setLocalContent","localContentInput","handleRemove","window","confirm","handleQuitEdit","handleEdit","length","current","focus","Date","toLocaleString","e","target","value","memo"],"sources":["/Users/jee/Desktop/j_project/simpleDiary/src/DiaryItem.js"],"sourcesContent":["import React, {useRef, useState} from \"react\";\n\nconst DiaryItem = ({\n    onEdit,\n    onDelete,\n    id,\n    author, \n    content, \n    emotion, \n    created_date, \n}) => {\n\n    const [isEdit, setIsEdit] = useState(false);\n    const toggleIsEdit = () => setIsEdit(!isEdit);\n\n    const [localContent, setLocalContent] = useState(content);\n    const localContentInput = useRef();\n\n    const handleRemove = () => {\n        if(window.confirm(`Do you really want to delete diary ${id}?`)){\n            onDelete(id);\n        }\n    };\n\n    const handleQuitEdit = () => {\n        setIsEdit(false);\n        setLocalContent(content);\n    }\n\n    const handleEdit = () => {\n        if(localContent.length < 5){\n            localContentInput.current.focus();\n            return;\n        }\n        if(window.confirm(`Do you want to edit diary ${id}?`)){\n            onEdit(id, localContent);\n            toggleIsEdit(); \n        }\n    }\n\n    return (\n      <div className=\"DiaryItem border border-sky-200 rounded-lg\">\n        <div className=\"info\">\n            <span className=\"author_info\">\n                Author: {author} / Emotion : {emotion}\n            </span>\n            <span className=\"date block\">\n                {new Date(created_date).toLocaleString()}\n            </span>\n        </div>\n        <div className=\"content pt-4 pb-8\">\n            {isEdit ? (\n                <>\n                    <textarea \n                    ref={localContentInput}\n                    value={localContent}\n                    onChange={(e)=>setLocalContent(e.target.value)}\n                    className=\"w-full h-30\"\n                    />\n                </>\n            ) : (\n                <>{content}</>\n            )}\n        </div>\n        {isEdit ? (\n        <>\n            <button onClick={handleQuitEdit} className=\"bg-gray-400 py-1 px-4 rounded text-white mr-2\">Cancel</button>\n            <button onClick={handleEdit} className=\"bg-sky-400 py-1 px-4 rounded text-white\">Save</button>\n        </>\n        ) : (\n        <>\n            <button onClick={handleRemove} className=\"bg-red-400 py-1 px-4 rounded text-white mr-2\">Delete</button>\n            <button onClick={toggleIsEdit} className=\"bg-sky-400 py-1 px-4 rounded text-white\">Edit</button>\n        </>\n        )}\n      </div>\n    );\n  };\n  export default React.memo(DiaryItem);"],"mappings":"8HAAA,MAAOA,MAAK,EAAGC,MAAM,CAAEC,QAAQ,KAAO,OAAO,CAAC,6IAE9C,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAQT,IAPFC,OAAM,MAANA,MAAM,CACNC,QAAQ,MAARA,QAAQ,CACRC,EAAE,MAAFA,EAAE,CACFC,MAAM,MAANA,MAAM,CACNC,OAAO,MAAPA,OAAO,CACPC,OAAO,MAAPA,OAAO,CACPC,YAAY,MAAZA,YAAY,CAGZ,cAA4BR,QAAQ,CAAC,KAAK,CAAC,wCAApCS,MAAM,eAAEC,SAAS,eACxB,GAAMC,aAAY,CAAG,QAAfA,aAAY,SAASD,UAAS,CAAC,CAACD,MAAM,CAAC,GAE7C,eAAwCT,QAAQ,CAACM,OAAO,CAAC,yCAAlDM,YAAY,eAAEC,eAAe,eACpC,GAAMC,kBAAiB,CAAGf,MAAM,EAAE,CAElC,GAAMgB,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,GAAGC,MAAM,CAACC,OAAO,8CAAuCb,EAAE,MAAI,CAAC,CAC3DD,QAAQ,CAACC,EAAE,CAAC,CAChB,CACJ,CAAC,CAED,GAAMc,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzBR,SAAS,CAAC,KAAK,CAAC,CAChBG,eAAe,CAACP,OAAO,CAAC,CAC5B,CAAC,CAED,GAAMa,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB,GAAGP,YAAY,CAACQ,MAAM,CAAG,CAAC,CAAC,CACvBN,iBAAiB,CAACO,OAAO,CAACC,KAAK,EAAE,CACjC,OACJ,CACA,GAAGN,MAAM,CAACC,OAAO,qCAA8Bb,EAAE,MAAI,CAAC,CAClDF,MAAM,CAACE,EAAE,CAAEQ,YAAY,CAAC,CACxBD,YAAY,EAAE,CAClB,CACJ,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,4CAA4C,wBACzD,aAAK,SAAS,CAAC,MAAM,wBACjB,cAAM,SAAS,CAAC,aAAa,WAAC,UAClB,CAACN,MAAM,CAAC,eAAa,CAACE,OAAO,GAClC,cACP,aAAM,SAAS,CAAC,YAAY,UACvB,GAAIgB,KAAI,CAACf,YAAY,CAAC,CAACgB,cAAc,EAAE,EACrC,GACL,cACN,YAAK,SAAS,CAAC,mBAAmB,UAC7Bf,MAAM,cACH,sCACI,iBACA,GAAG,CAAEK,iBAAkB,CACvB,KAAK,CAAEF,YAAa,CACpB,QAAQ,CAAE,kBAACa,CAAC,QAAGZ,gBAAe,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAC/C,SAAS,CAAC,aAAa,EACrB,EACH,cAEH,yBAAGrB,OAAO,EACb,EACC,CACLG,MAAM,cACP,wCACI,eAAQ,OAAO,CAAES,cAAe,CAAC,SAAS,CAAC,+CAA+C,UAAC,QAAM,EAAS,cAC1G,eAAQ,OAAO,CAAEC,UAAW,CAAC,SAAS,CAAC,yCAAyC,UAAC,MAAI,EAAS,GAC/F,cAEH,wCACI,eAAQ,OAAO,CAAEJ,YAAa,CAAC,SAAS,CAAC,8CAA8C,UAAC,QAAM,EAAS,cACvG,eAAQ,OAAO,CAAEJ,YAAa,CAAC,SAAS,CAAC,yCAAyC,UAAC,MAAI,EAAS,GAEnG,GACG,CAEV,CAAC,CACD,2BAAeb,KAAK,CAAC8B,IAAI,CAAC3B,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}